# More option see https://github.com/DreamMaoMao/mango/wiki/
# ------------------
# MONITOR CONFIGURATION
# ------------------

# Old syntax
#monitorrule= eDP-1,1,1,scroller,0,1.2,0,0,1920,1080,60
#monitorrule= HDMI-A-1,1,1,scroller,0,1,1600,0,1280,720,60

# New syntax
monitorrule=name:eDP-1,width:1920,height:1080,refresh:60,x:0,y:0,scale:1.2,vrr:0,rr:0
monitorrule=name:HDMI-A-1,width:1280,height:720,refresh:60,x:1600,y:0,vrr:0,rr:0

# ------------------
# WINDOW LOOK & EFFECTS
# ------------------

# Window blur
blur=0
blur_layer=0
blur_optimized=1
blur_params_num_passes = 2
blur_params_radius = 5
blur_params_noise = 0.02
blur_params_brightness = 0.9
blur_params_contrast = 0.9
blur_params_saturation = 1.2

# Shadows
shadows = 0
layer_shadows = 0
shadow_only_floating = 0
shadows_size = 10
shadows_blur = 15
shadows_position_x = 0
shadows_position_y = 0
shadowscolor= 0x000000ff

# Window borders
border_radius= 0
no_radius_when_single= 0
focused_opacity=1.0
unfocused_opacity=1.0

# Animations
animations=0
layer_animations=0
animation_type_open=none
animation_type_close=none
animation_fade_in=0
animation_fade_out=0
tag_animation_direction=1
zoom_initial_ratio=0.3
zoom_end_ratio=0.8
fadein_begin_opacity=0.5
fadeout_begin_opacity=0.8
animation_duration_move=500
animation_duration_open=400
animation_duration_tag=350
animation_duration_close=800
animation_duration_focus=0
animation_curve_open=0.46,1.0,0.29,1
animation_curve_move=0.46,1.0,0.29,1
animation_curve_tag=0.46,1.0,0.29,1
animation_curve_close=0.08,0.92,0,1
animation_curve_focus=0.46,1.0,0.29,1

# ------------------
# LAYOUT SETTINGS
# ------------------

# Scroller layout
scroller_structs=0
scroller_default_proportion=0.8
scroller_focus_center=1
scroller_prefer_center=0
edge_scroller_pointer_focus=1
scroller_default_proportion_single=1.0
scroller_proportion_preset=0.5,0.8,1.0
scroller_ignore_proportion_single=0

# Master-stack layout
new_is_master=1
default_mfact=0.55
default_nmaster=1
smartgaps=0

# Overview
hotarea_size=10
enable_hotarea=0
ov_tab_mode=0
overviewgappi=5
overviewgappo=30

# Misc
no_border_when_single=0
axis_bind_apply_timeout=100
focus_on_activate=1
idleinhibit_ignore_visible=0
sloppyfocus=1
warpcursor=1
focus_cross_monitor=0
focus_cross_tag=0
enable_floating_snap=0
snap_distance=30
cursor_size=24
drag_tile_to_tile=1
view_current_to_back=0

# Layout tags
tagrule=id:1,layout_name:scroller
tagrule=id:2,layout_name:scroller
tagrule=id:3,layout_name:scroller
tagrule=id:4,layout_name:scroller
tagrule=id:5,layout_name:scroller
tagrule=id:6,layout_name:scroller
tagrule=id:7,layout_name:scroller
tagrule=id:8,layout_name:scroller
tagrule=id:9,layout_name:scroller

# ------------------
# INPUT SETTINGS
# ------------------

# Keyboard
repeat_rate=25
repeat_delay=600
numlockon=1
xkb_rules_layout=pt,us
xkb_rules_variant=,intl

# Trackpad
disable_trackpad=0
tap_to_click=1
tap_and_drag=1
drag_lock=1
trackpad_natural_scrolling=1
disable_while_typing=1
left_handed=0
middle_button_emulation=0
swipe_min_threshold=1

# Mouse
mouse_natural_scrolling=0
accel_profile=2

# ------------------
# APPEARANCE & GAPS
# ------------------
gappih=0
gappiv=0
gappoh=0
gappov=0
scratchpad_width_ratio=0.8
scratchpad_height_ratio=0.9
borderpx=2

rootcolor=0x201b14ff
bordercolor=0x444444ff
focuscolor=0x808080ff
maximizescreencolor=0x808080ff
urgentcolor=0xad401fff
scratchpadcolor=0x516c93ff
globalcolor=0xb153a7ff
overlaycolor=0x14a57cff

# ------------------
# AUTO START PROGRAMS
# ------------------
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = dunst
exec-once = waybar
exec-once = swaybg -i ~/.config/background/anime-girl-with-cat-blue-eyes-2k-wallpaper-uhdpaper.com-398@5@d.jpg
exec-once = playerctld daemon
exec-once = swayidle -w timeout 600 "swaylock -f" timeout 800 "systemctl suspend" before-sleep "swaylock -f"
exec-once = sway-audio-idle-inhibit
exec-once = wlsunset -S 07:00 -s 19:00 -d 30 -t 3500
exec-once = mpd

# ------------------
# ENVIRONMENT VARIABLES
# ------------------
cursor_size = 24
env = XCURSOR_SIZE,24

# Input method (fcitx5)
env = GTK_IM_MODULE,fcitx
env = QT_IM_MODULE,fcitx
env = SDL_IM_MODULE,fcitx
env = XMODIFIERS,@im=fcitx
env = GLFW_IM_MODULE,ibus

# Wayland / QT
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# Mango session
env = XDG_CURRENT_DESKTOP,mango
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,mango
env = XDG_MENU_PREFIX,arch- 

# ------------------
# KEYBINDINGS
# ------------------

# Reload & exit
bind = SUPER+SHIFT, r, reload_config
bind = SUPER+SHIFT, m, quit
bind = SUPER+SHIFT, q, killclient,

# Menu & terminal
bind = SUPER, space, spawn,rofi -show drun
bind = SUPER, Return, spawn, foot

# Switch keyboard layout
bind= ALT, space, switch_keyboard_layout

# Clipboard history
bind = SUPER, v, spawn_shell, zsh -c 'cliphist list | rofi -dmenu | cliphist decode | wl-copy'

# Rofi
bind = SUPER, a, spawn,rofi -show recursivebrowser
bind = SUPER, x, spawn,rofi -show run
bind = SUPER, period, spawn_shell, rofi -modi emoji -show emoji

# ------------------
# Programs / Utilities
bind = CTRL+SHIFT, Escape, spawn, foot -e btop
bind = SUPER+SHIFT, Return, spawn, foot -e nvim
bind = SUPER,b, spawn, brave
bind = SUPER, e, spawn, foot -e zsh -i -c 'y'

# MPV Music Player Config (commented)
#bind = SUPER, x, spawn_shell, zsh -c 'pgrep -x mpv >/dev/null && pkill mpv || mpv --playlist=~/MÃºsicas --no-video --shuffle >/dev/null 2>&1 &'

# MPD / RMPC
bind = SUPER, r, spawn, foot -e rmpc

# Caffeinated-toggle
bind = SUPER, i, spawn_shell, /home/mario/.config/scripts/caffeinated-toggle

# Pomodoro
bind = SUPER, p, spawn, foot -e /home/mario/.config/scripts/pomodoro.sh

# ------------------
# Power options
bind = CTRL+ALT, Delete, spawn_shell, shutdown now
bind = CTRL+SHIFT, Delete, spawn_shell, reboot
bind = CTRL+ALT, S, spawn_shell, systemctl suspend
bind = SUPER+SHIFT, s, spawn_shell, swaylock

# ------------------
# Screenshot & color picker
bind = SHIFT, Print, spawn_shell, zsh -c 'grim -l 0 -g "$(slurp)" - | tee ~/Imagens/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png | wl-copy'
bind = none, Print, spawn_shell, zsh -c 'GEOM=$(slurp -o) && grim -g "$GEOM" - | tee ~/Imagens/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png | wl-copy'
bind = CTRL+SHIFT, Print, spawn_shell, wl-color-picker

# ------------------
# Notifications (dunst)
bind = SUPER, n, spawn_shell, dunstctl history-pop
bind = SUPER, d, spawn_shell, dunstctl set-paused toggle

# ------------------
# Audio & Mic
bind = CTRL, F1, spawn_shell, pamixer -t
bind = CTRL, F2, spawn_shell, pamixer --decrease 5
bind = CTRL, F3, spawn_shell, pamixer --increase 5
bind = CTRL, F4, spawn_shell, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# ------------------
# Media controls
bind = ALT, k, spawn_shell, playerctl --player=playerctld play-pause
bind = ALT, l, spawn_shell, playerctl --player=playerctld next
bind = ALT, j, spawn_shell, playerctl --player=playerctld previous
bind = ALT, h, spawn_shell, playerctl --player=playerctld position 10-
bind = ALT, ccedilla, spawn_shell, playerctl --player=playerctld position 10+
bind = ALT+SHIFT, j, spawn_shell, rmpc prev
bind = ALT+SHIFT, k, spawn_shell, rmpc togglepause
bind = ALT+SHIFT, l, spawn_shell, rmpc next
bind = ALT+SHIFT, h, spawn_shell, rmpc seek -10
bind = ALT+SHIFT, ccedilla, spawn_shell, rmpc seek +10 

# ------------------
# Night light
bind = CTRL+SHIFT, s, spawn_shell,zsh -c 'pgrep -x wlsunset >/dev/null && pkill wlsunset || wlsunset -T 3501 -t 3500 &'

# ------------------
# Brightness
bind = ALT, F2, spawn_shell, brightnessctl set 5%-
bind = ALT, F3, spawn_shell, brightnessctl set +5%

# ------------------
# Laptop multimedia keys (XF86)
bind = none, XF86AudioRaiseVolume, spawn_shell, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bind = none, XF86AudioLowerVolume, spawn_shell, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = none, XF86AudioMute, spawn_shell, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = none, XF86AudioMicMute, spawn_shell, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind = none, XF86MonBrightnessUp, spawn_shell, brightnessctl -e4 -n2 set 5%+
bind = none, XF86MonBrightnessDown, spawn_shell, brightnessctl -e4 -n2 set 5%-
bind = none, XF86AudioNext, spawn_shell, playerctl next
bind = none, XF86AudioPause, spawn_shell, playerctl play-pause
bind = none, XF86AudioPlay, spawn_shell, playerctl play-pause
bind = none, XF86AudioPrev, spawn_shell, playerctl previous

# ------------------
# Window focus & swap
# ------------------
#bind=SHIFT,Tab,focusstack,next
bind = SUPER,h,focusdir,left
bind = SUPER,l,focusdir,right
bind = SUPER,k,focusdir,up
bind = SUPER,J,focusdir,down

bind = SUPER+SHIFT,k,exchange_client,up
bind = SUPER+SHIFT,j,exchange_client,down
bind = SUPER+SHIFT,h,exchange_client,left
bind = SUPER+SHIFT,l,exchange_client,right

# ------------------
# Window status & layouts
bind = SUPER, g, toggleglobal,
bind = SUPER, 0, toggleoverview,
bind = SUPER, w, togglefloating,
bind = SUPER, Tab, togglemaximizescreen,
bind = SUPER+SHIFT, Tab, togglefullscreen,
bind = SUPER, o, toggleoverlay

# Scroller layout
bind = ALT, e, set_proportion,1.0
bind = ALT, x, switch_proportion_preset,

# Layout switch
bind = SUPER+SHIFT, n, setlayout, tile
bind = SUPER+CTRL, n, setlayout, scroller

# ------------------
# Tag & monitor switch
# ------------------
# Tag switch
#bind=SUPER,Left,viewtoleft,0
#bind=CTRL,Left,viewtoleft_have_client,0
#bind=SUPER,Right,viewtoright,0
#bind=CTRL,Right,viewtoright_have_client,0
#bind=CTRL+SUPER,Left,tagtoleft,0
#bind=CTRL+SUPER,Right,tagtoright,0

bind = SUPER, 1, comboview, 1,0
bind = SUPER, 2, comboview, 2,0
bind = SUPER, 3, comboview, 3,0
bind = SUPER, 4, comboview, 4,0
bind = SUPER, 5, comboview, 5,0
bind = SUPER, 6, comboview, 6,0
bind = SUPER, 7, comboview, 7,0
bind = SUPER, 8, comboview, 8,0
bind = SUPER, 9, comboview, 9,0

bind = SUPER+SHIFT, 1, tag, 1,0
bind = SUPER+SHIFT, 2, tag, 2,0
bind = SUPER+SHIFT, 3, tag, 3,0
bind = SUPER+SHIFT, 4, tag, 4,0
bind = SUPER+SHIFT, 5, tag, 5,0
bind = SUPER+SHIFT, 6, tag, 6,0
bind = SUPER+SHIFT, 7, tag, 7,0
bind = SUPER+SHIFT, 8, tag, 8,0
bind = SUPER+SHIFT, 9, tag, 9,0

bind = ALT, Tab, focusmon, left
bind = ALT+SHIFT, Tab, tagmon, left

# ------------------
# Window resize & move
bind = SUPER+CTRL, K, resizewin, +0,-50
bind = SUPER+CTRL, J, resizewin, +0,+50
bind = SUPER+CTRL, H, resizewin, -50,+0
bind = SUPER+CTRL, L, resizewin, +50,+0

#bind=CTRL+SHIFT,Up,movewin,+0,-50
#bind=CTRL+SHIFT,Down,movewin,+0,+50
#bind=CTRL+SHIFT,Left,movewin,-50,+0
#bind=CTRL+SHIFT,Right,movewin,+50,+0

# gaps
#bind=ALT+SHIFT,X,incgaps,1
#bind=ALT+SHIFT,Z,incgaps,-1
#bind=ALT+SHIFT,R,togglegaps

# Mouse bindings
mousebind = SUPER, btn_left, moveresize, curmove
#mousebind = NONE, btn_middle, togglemaximizescreen, 0
mousebind = SUPER, btn_right, moveresize,curresize
mousebind = NONE, btn_left, toggleoverview, 1
mousebind = NONE, btn_right, killclient, 0

# Axis bindings
axisbind = SUPER, UP, viewtoleft_have_client
axisbind = SUPER, DOWN, viewtoright_have_client

# ------------------
# Window rules
windowrule = unfocused_opacity:1.0, focused_opacity:0.9, appid:foot
windowrule = allow_csd:0, appid:code
#windowrule = unfocused_opacity:1.0, focused_opacity:0.9, appid:kitty

# Layer rule
#layerrule=animation_type_open:zoom,layer_name:rofi
#layerrule=animation_type_close:zoom,layer_name:rofi

